# Production Environment Configuration
# Copy this file to .env.production and fill in your actual values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Neon PostgreSQL Production Database
# Format: postgresql://user:password@host/dbname
DATABASE_URL=postgresql://username:password@your-neon-host.neon.tech/chatbot_production?sslmode=require

# Database Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# =============================================================================
# OPENAI CONFIGURATION
# =============================================================================

# OpenAI API Key for GPT-4 Turbo
OPENAI_API_KEY=sk-proj-your-production-api-key-here

# OpenAI Model Configuration
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=500

# =============================================================================
# PHASE 2 BACKEND INTEGRATION
# =============================================================================

# Phase 2 Backend URL (todo CRUD operations)
PHASE2_API_URL=https://api.your-domain.com

# Internal Service Token for MCP Server authentication
# Generate with: openssl rand -hex 32
INTERNAL_SERVICE_TOKEN=your-secure-service-token-here-64-chars-minimum

# =============================================================================
# AUTHENTICATION
# =============================================================================

# Better Auth Secret (from Phase 2)
# Must match Phase 2 backend configuration
BETTER_AUTH_SECRET=your-better-auth-secret-from-phase2

# JWT Settings
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# FastAPI Backend
API_HOST=0.0.0.0
API_PORT=8001
API_WORKERS=4
API_RELOAD=false

# CORS Settings (Frontend URLs)
CORS_ORIGINS=https://your-frontend-domain.com,https://www.your-frontend-domain.com
CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# MCP SERVER CONFIGURATION
# =============================================================================

# MCP Server Settings
MCP_SERVER_HOST=0.0.0.0
MCP_SERVER_PORT=8080
MCP_TIMEOUT=30

# =============================================================================
# LOGGING
# =============================================================================

# Log Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log Format
LOG_FORMAT=json

# Log File Path (optional, leave empty for stdout only)
LOG_FILE=/var/log/chatbot/app.log

# =============================================================================
# MONITORING
# =============================================================================

# Sentry DSN (for error tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Sentry Environment
SENTRY_ENVIRONMENT=production

# Sentry Sample Rate (0.0 to 1.0)
SENTRY_TRACES_SAMPLE_RATE=0.1

# =============================================================================
# RATE LIMITING
# =============================================================================

# Rate Limit (requests per minute per user)
RATE_LIMIT_PER_MINUTE=30

# Redis URL for rate limiting (optional)
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# SECURITY
# =============================================================================

# Enable HTTPS redirect
HTTPS_REDIRECT=true

# Allowed Hosts (comma-separated)
ALLOWED_HOSTS=your-domain.com,www.your-domain.com

# Trusted Proxies (for X-Forwarded-For)
TRUSTED_PROXIES=127.0.0.1,::1

# =============================================================================
# PERFORMANCE
# =============================================================================

# Database Connection Pool
CONNECTION_POOL_SIZE=20
CONNECTION_MAX_OVERFLOW=10

# HTTP Client Timeout (seconds)
HTTP_TIMEOUT=30

# Request Timeout (seconds)
REQUEST_TIMEOUT=60

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable conversation history cleanup job
ENABLE_CLEANUP_JOB=true

# Cleanup interval (days)
CLEANUP_INTERVAL_DAYS=90

# Enable metrics collection
ENABLE_METRICS=true

# =============================================================================
# DEPLOYMENT INFO
# =============================================================================

# Environment Name
ENVIRONMENT=production

# Application Version
APP_VERSION=1.0.0

# Deployment Date (auto-generated by CI/CD)
DEPLOY_DATE=2025-12-25
